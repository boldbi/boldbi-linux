/*!
*  filename: addsampleitem.min.js
*  version : unknown version
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
function addSampleDashboard(n){var t=n.attr("data-category-name"),i=n.attr("data-sample-name"),r=n.attr("data-sample-description"),u=n.attr("data-sample-filename");n.hide();n.parent().append($("<div class='loader-blue loader-icon loader-gif' id='add-sample'><svg class='circular'><circle class='path' cx='27' cy='27' r='10' fill='none' stroke-width='4' stroke-miterlimit='10'><\/circle><\/svg><\/div>"));$.ajax({type:"POST",url:addSampleDashboardUrl,data:{itemName:i,description:r,fileName:u,categoryName:t},success:function(i){if(n.show(),n.siblings(".loader-gif").remove(),$("#progress-alert-container").css("z-index",$("#sample_item_dialog").css("z-index")+1),i.Status){isSampleDashboardAdded=!0;var r=window.Server.App.Localization.AddSampleDashboardSuccess.format('<a target="_blank" href="'+dashboardBaseUrl+"/"+i.ItemDatails.DashboardId+"/"+t+"/"+i.ItemDatails.Name+'?showmydashboards=1"> '+i.ItemDatails.Name+"<\/a>");successToast(r,7e3,i.ItemDatails.DashboardId);parseInt(dashboardItemCount)>0&&typeof RefreshCategorySection=="function"&&RefreshCategorySection(i.ItemDatails.CategoryId)}else parent.warningToast(window.Server.App.Localization.SampleDashboardWarningToast,i.Message,i.eTag,window.Server.App.Localization.SampleDashboardWarningToastHeader)}})}var currentCategory="",isSampleDashboardAdded;serverApp.controller("SampleListCtrl",["$scope",function(n){n.samples=[];n.orderList="";n.selectedCategory="";n.dummies=[];n.clone={};n.count=0;n.setFilterCategory=function(t){n.selectedCategory=t};n.filterByCategory=function(t){return n.selectedCategory?n.selectedCategory===t.Name:t};n.countFilterObjects=function(n,t){var i=0,e=!1,r=angular.element($("#samples")).scope(),u=r.selectedCategory,o,f;return Object.keys(n).length==0&&t!==""&&(o=angular.element(document.querySelector(".all-dashboard-count")),o.text("0"),f=angular.element(document.querySelector("li")),f.addClass("highlight-list-item"),r.selectedCategory=undefined),Object.keys(n).forEach(function(n){n==r.selectedCategory&&(e=!0)}),e||(f=angular.element(document.querySelector("li")),f.addClass("highlight-list-item"),r.selectedCategory=undefined),t==undefined||t==""?i=-1:angular.forEach(n,function(n,t){u!=undefined&&u.toLowerCase()==t.toLowerCase()?i=i+n.length:(u==undefined||u=="")&&(i=i+n.length)}),i};n.getCategoryItemsCount=function(n,t){var r=0,i=0,u=angular.element(document.querySelector(".all-dashboard-count"));return angular.forEach(n,function(n,f){f==t&&(r=n.length);i=i+n.length;u.text(i)}),u.text(i),r};n.createDummyArray=function(t){var i=[];n.clone!=t&&(n.count<=2&&n.count++,n.clone=t,angular.forEach(t,function(n,t){i.push({category:t,items:n,itemscount:n.length})}),i.sort(function(n,t){return n.itemscount<t.itemscount?1:-1}),n.count==1&&(n.dummies=i))}}]);$(document).ready(function(){var t=angular.element("[ng-controller=SampleListCtrl]").scope(),n;for(isSampleDashboardAdded=!1,$(parent.window).width()>1400&&$("#sample-item-container").addClass("sampleitems"),$(parent.window).width()<1400&&$("#sample-item-container").removeClass("sampleitems"),n=0,i=0;i<t.samples.length;i++)n+=t.samples[i].Dashboards.length;$(".all-dashboard-count").text(n);parent.hideWaitingPopup("sample-item-popup_wrapper")});$(document).on("click",".sample-item-popup-close, #close-button",function(){eDialog=parent.$("#sample-item-popup").data("ejDialog");eDialog.close();$("#sample-item-popup iframe").attr("src","");window.parent.location.href.indexOf("/dashboards")>0&&parseInt(parent.dashboardItemCount)===0&&isSampleDashboardAdded&&(parent.$("body").ejWaitingPopup("show"),parent.location.reload())});$(document).on("click",".list-group-item",function(){$(".list-group-item").removeClass("highlight-list-item");$(this).addClass("highlight-list-item")});$(document).on("click",".sample-add-button",function(){var n=$(this);addSampleDashboard(n)})