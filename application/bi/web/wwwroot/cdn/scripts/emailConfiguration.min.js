function getEmailPassword(){var e=$("#mail-password");""===e.val()&&(parseInt($("#port-number").val())!==window.SystemSettingsProperties.MailSettingsPort||$("#smtp-address").val()!==window.SystemSettingsProperties.MailSettingsHost||$("#mail-display-name").val()!==window.SystemSettingsProperties.MailSettingsSenderName||$("#mail-user-name").val()!==window.SystemSettingsProperties.MailSettingsAddress||$("#secure-mail-authentication").is(":checked")!==window.SystemSettingsProperties.MailSettingsIsSecureAuthentication?e.attr("placeholder",window.Server.App.Localization.PasswordPlaceholder).siblings(".placeholder").html(window.Server.App.Localization.PasswordPlaceholder):e.attr("placeholder","●●●●●●●●").siblings(".placeholder").html("●●●●●●●●"))}$(document).ready(function(){$("#mail-password").show(),$("#email-setting-form").validate({errorElement:"span",onkeyup:function(e,a){9!=a.keyCode&&(isKeyUp=!0,"mail-password"===e.id&&""===$(e).val()||$(e).valid(),isKeyUp=!1)},onfocusout:function(e){("mail-password"!==e.id||""===$(e).val())&&$(e).valid()},rules:{smtp_address:{isRequired:!0},port_number:{isRequired:!0},mail_display_name:{isRequired:!0,isValidName:!0},mail_user_name:{isRequired:!0,isValidEmail:!0},mail_password:{required:!0},sender_user_name:{required:!0}},highlight:function(e){$(e).closest(".form-group").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error"),$(e).parent().find("span.validation-errors").html("")},errorPlacement:function(e,a){$(a).parent().find("span.validation-errors").html(e)},messages:{smtp_address:{isRequired:window.Server.App.Localization.MailSMTPServerValidator},port_number:{isRequired:window.Server.App.Localization.MailSMTPPortValidator},mail_display_name:{isRequired:window.Server.App.Localization.SenderNameValidator},mail_user_name:{isRequired:window.Server.App.Localization.SenderEmailValidator},mail_password:{required:window.Server.App.Localization.PasswordValidator},sender_user_name:{required:window.Server.App.Localization.UserNameValidator}}}),$(".mail-settings-fields:not('#mail-password')").keyup(function(e){getEmailPassword()}),$("#mail-authentication-type").selectpicker("refresh")}),$(document).on("change","#mail-authentication-type",function(){var e=$(".mail-credentials");1===parseInt($(this).val())?e.removeAttr("disabled"):(e.attr("disabled","disabled").val("").parent().parent().removeClass("has-error"),e.siblings(".validation-errors").text(""))}),$(document).on("change","#mail-password , #sender-user-name",function(){""!==$("#mail-password").val()&&$("#mail-password-error").remove(),""!==$("#sender-user-name").val()&&$("#sender-user-name-error").remove()});