var isFreshLoad=!0,downloadDashboardProcessStatusInfo="",isDownoadItemStatusDialogBinded=!1;function onStatusClick(){ejs.popups.showSpinner(document.getElementById("download_item_status"));var s=document.getElementById("ProgressStages");$("#DownlodDashboardStatus").html(s),$("#ProgressStages").show(),setTimeout(function(){var s=$("#DownloadItemGrid").data("ejGrid"),a=s.getCurrentViewData()[s.getIndexByRow($("#DownloadItemGrid .e-gridcontent tr.e-row[aria-selected *='true']"))];if($("#progress-stages").empty(),null!=a&&null!=a.Stages&&null!=a.Stages)for(i=0;i<a.Stages.length;i++)a.Stages[i].Status==DownloadandUploadJobStatus.InProgress?$("#progress-stages").append('<li class="col-xs-12 no-padding"><div class="loader-blue loader-icon col-xs-2 no-padding" id="upload-dashboard-progress-loader-icon"><svg class="circular"><circle class="path" cx="8" cy="8" r="6" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg></div><span class="progress-info col-xs-10 no-padding">'+a.Stages[i].Label+"</span ></li >"):a.Stages[i].Status==DownloadandUploadJobStatus.Success?$("#progress-stages").append('<li class="col-xs-12 no-padding"><i class="su su-success col-xs-2 no-padding"><span class="su-success path1"></span><span class="su-success path2"></span></i><span class="progress-info col-xs-10 no-padding">'+a.Stages[i].Label+"</span ></li >"):a.Stages[i].Status==DownloadandUploadJobStatus.Failed&&$("#progress-stages").append('<li class="col-xs-12 no-padding"><i class="su su-failure col-xs-2 no-padding"><span class="su-failure path1"></span><span class="su-failure path2"></span><span class="su-failure path3"></span><span class="su-failure path4"></span></i><span class="progress-info col-xs-10 no-padding">'+a.Stages[i].Label+'<span id="error-message" style="display: none;">'+a.Stages[i].ErrorMessage+'</span><span id="click-know-more">'+window.Server.App.Localization.KnowMore+"</span ></span ></li > ");s=document.getElementById("download_item_status").ej2_instances;s[0].header='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DownloadDashboard+'</span><span class="item-name">'+a.ItemName+"</span></span>",s[0].show()},50),ejs.popups.hideSpinner(document.getElementById("download_item_status"))}function closeStatusInfo(){downloadDashboardProcessStatusInfo.hide()}function pushUrl(s){isFreshLoad?(history.replaceState(s,null,window.location.pathname+"?tab="+s),isFreshLoad=!1):history.pushState(s,null,window.location.pathname+"?tab="+s)}$(document).ready(function(){var s,a,e='<span class="dialog-header-with-subtitle"><span class ="dialog-header-title">'+window.Server.App.Localization.DownloadDashboard+'</span><span class="item-name"></span></span>';isDownoadItemStatusDialogBinded?((a=document.getElementById("download_item_status").ej2_instances)[0].header=e,a[0].show()):((s=document.createElement("div")).setAttribute("id","download_item_status"),document.getElementById("base-container").appendChild(s),(a=new ejs.popups.Dialog({showOnInit:!1,visible:!1,allowDraggable:!1,enableResize:!1,width:460<window.innerWidth?"456px":window.innerWidth-10,height:"auto",showHeader:!1,isModal:!0,enableModal:!0,closeOnEscape:!0,header:e,showCloseIcon:!0,content:document.getElementById("DownlodDashboardStatus"),buttons:[{click:function(){a.hide()},buttonModel:{cssClass:"app-btn-secondary",content:window.Server.App.Localization.OKButton}}]})).appendTo(s),isDownoadItemStatusDialogBinded=!0),ejs.popups.createSpinner({target:document.getElementById("download_item_status")}),ejs.popups.setSpinner({type:"Material"})}),$(document).on("click","#click-know-more",function(){$(this).parent().find("#error-message").is(":visible")?($(this).parent().find("#error-message").hide(),$(this).text(window.Server.App.Localization.KnowMore)):($(this).parent().find("#error-message").show(),$(this).text(window.Server.App.Localization.KnowLess))}),$(document).on("click","#clear-downloadfiles-search",function(){var s=$(this).prevAll("input"),a="#"+(s=""==s||null==s||s.length<=0?$(this).prev("div").find("input"):s).attr("id");s.val(""),$("#clear-downloadfiles-search").css("display","none"),""==s.val()&&(PerformSearch(a),$("#clear-downloadfiles-search").siblings("span.su-search").css("display","block"))}),$(document).on("click",'a[data-toggle="tab"]',function(s){pushUrl($(s.target).attr("href").replace("#",""))}),window.onpopstate=function(s){$('.nav-tabs a[href="#'+s.state+'"]').tab("show")};