var styleSrcChipData=[],scriptSrcChipData=[],fontSrcChipData=[],imgSrcChipData=[],connectSrcChipData=[],frameSrcChipData=[],isStyleSrcChipBinded=!1,isScriptSrcsChipBinded=!1,isFontSrcChipBinded=!1,isImgSrcChipBinded=!1,isConnectSrcChipBinded=!1,isFrameSrcChipBinded=!1,isChrome=-1!=navigator.userAgent.indexOf("Chrome"),isEdge=-1!=navigator.userAgent.indexOf("Edge");function diableOrEnableCSPSettingsForm(){$("#enable-csp").is(":checked")?($(".src-input-class").removeClass("src-disabled"),$(".src-input-class .src-input-ship .e-chip").removeClass("disable-bg-color"),$(".txt-input-src").prop("disabled",!1)):($(".txt-input-src").val(""),$(".style-src-validation .script-src-validation .font-src-validation .img-src-validation .connect-src-validation .frame-src-validation").html(""),$(".src-input-class").addClass("src-disabled"),$(".src-input-class .src-input-ship .e-chip").addClass("disable-bg-color"),$(".txt-input-src").prop("disabled",!0),getSrcInstance("style-src-chip-content"),getSrcInstance("script-src-chip-content"),getSrcInstance("font-src-chip-content"),getSrcInstance("img-src-chip-content"),getSrcInstance("connect-src-chip-content"),getSrcInstance("frame-src-chip-content"),styleSrcChipData=[],scriptSrcChipData=[],fontSrcChipData=[],imgSrcChipData=[],connectSrcChipData=[],frameSrcChipData=[])}function objectConvertAsSrcDirectiveChip(t,c){0!=(t=t.endsWith(",")||t.endsWith(";")||t.endsWith("\n")?t.slice(0,-1).trim():t).length?isValidOrigin(t)?"txt-stylesrc"==c?(isSrcChipAlreadyExists(t,"style-src-chip-content")&&(styleSrcChipData.push(t),srcChipConversion(styleSrcChipData,"style-src-chip-content","#txt-stylesrc")),$("#"+c).parent().next().html("")):"txt-scriptsrc"==c?(isSrcChipAlreadyExists(t,"script-src-chip-content")&&(scriptSrcChipData.push(t),srcChipConversion(scriptSrcChipData,"script-src-chip-content","#txt-scriptsrc")),$("#"+c).parent().next().html("")):"txt-fontsrc"==c?(isSrcChipAlreadyExists(t,"font-src-chip-content")&&(fontSrcChipData.push(t),srcChipConversion(fontSrcChipData,"font-src-chip-content","#txt-fontsrc")),$("#"+c).parent().next().html("")):"txt-imgsrc"==c?(isSrcChipAlreadyExists(t,"img-src-chip-content")&&(imgSrcChipData.push(t),srcChipConversion(imgSrcChipData,"img-src-chip-content","#txt-imgsrc")),$("#"+c).parent().next().html("")):"txt-connectsrc"==c?(isSrcChipAlreadyExists(t,"connect-src-chip-content")&&(connectSrcChipData.push(t),srcChipConversion(connectSrcChipData,"connect-src-chip-content","#txt-connectsrc")),$("#"+c).parent().next().html("")):"txt-framesrc"==c&&(isSrcChipAlreadyExists(t,"frame-src-chip-content")&&(frameSrcChipData.push(t),srcChipConversion(frameSrcChipData,"frame-src-chip-content","#txt-framesrc")),$("#"+c).parent().next().html("")):($("#"+c).val(t),$("#"+c).parent().next().html(window.Server.App.Localization.CSPDirectiveValidation)):ClearSettingsFields()}function srcChipConversion(t,c,e){var n;"#txt-stylesrc"==e?isStyleSrcChipBinded?((n=document.getElementById(c).ej2_instances)[0].chips=[],n[0].chips=t,n[0].createChip(),n[0].refresh()):(new ejs.buttons.ChipList({chips:t,enableDelete:!0,delete:onStyleSrcChipDelete},"#"+c),isStyleSrcChipBinded=!0):"#txt-scriptsrc"==e?isScriptSrcsChipBinded?((n=document.getElementById("script-src-chip-content").ej2_instances)[0].chips=[],n[0].chips=scriptSrcChipData,n[0].createChip(),n[0].refresh()):(new ejs.buttons.ChipList({chips:scriptSrcChipData,enableDelete:!0,delete:onScriptSrcChipDelete},"#script-src-chip-content"),isScriptSrcsChipBinded=!0):"#txt-fontsrc"==e?isFontSrcChipBinded?((t=document.getElementById("font-src-chip-content").ej2_instances)[0].chips=[],t[0].chips=fontSrcChipData,t[0].createChip(),t[0].refresh()):(new ejs.buttons.ChipList({chips:fontSrcChipData,enableDelete:!0,delete:onFontSrcChipDelete},"#font-src-chip-content"),isFontSrcChipBinded=!0):"#txt-imgsrc"==e?isImgSrcChipBinded?((n=document.getElementById("img-src-chip-content").ej2_instances)[0].chips=[],n[0].chips=imgSrcChipData,n[0].createChip(),n[0].refresh()):(new ejs.buttons.ChipList({chips:imgSrcChipData,enableDelete:!0,delete:onImgSrcChipDelete},"#img-src-chip-content"),isImgSrcChipBinded=!0):"#txt-connectsrc"==e?isConnectSrcChipBinded?((t=document.getElementById("connect-src-chip-content").ej2_instances)[0].chips=[],t[0].chips=connectSrcChipData,t[0].createChip(),t[0].refresh()):(new ejs.buttons.ChipList({chips:connectSrcChipData,enableDelete:!0,delete:onConnectSrcChipDelete},"#connect-src-chip-content"),isConnectSrcChipBinded=!0):"#txt-framesrc"==e&&(isFrameSrcChipBinded?((n=document.getElementById("frame-src-chip-content").ej2_instances)[0].chips=[],n[0].chips=frameSrcChipData,n[0].createChip(),n[0].refresh()):(new ejs.buttons.ChipList({chips:frameSrcChipData,enableDelete:!0,delete:onFrameSrcChipDelete},"#frame-src-chip-content"),isFrameSrcChipBinded=!0)),140<$("#"+c).height()&&((t=document.getElementById(c)).scrollTop=t.scrollHeight),removeSrcContainer(c,e),applySrcTooltip(c)}function applySrcTooltip(t){for(var c=0;c<$("#"+t+" .e-chip").length;c++){$("#"+t+" .e-chip")[c].setAttribute("data-toggle","tooltip"),$("#"+t+" .e-chip")[c].setAttribute("data-placement","top");var e=$("#"+t+" .e-chip > .e-chip-text")[c].innerText;$("#"+t+" .e-chip")[c].setAttribute("data-original-title",e)}$('[data-toggle="tooltip"]').tooltip()}function removeSrcContainer(t,c){$(c).css("width","10%").removeAttr("placeholder").val(""),$("#"+t).css("display","inline")}function getSrcInstance(t){var c=document.getElementById(t).ej2_instances;"style-src-chip-content"==t?null!=c&&(c[0].chips=[],applySrcContainer("#txt-stylesrc")):"script-src-chip-content"==t?null!=c&&(c[0].chips=[],applySrcContainer("#txt-scriptsrc")):"font-src-chip-content"==t?null!=c&&(c[0].chips=[],applySrcContainer("#txt-fontsrc")):"img-src-chip-content"==t?null!=c&&(c[0].chips=[],applySrcContainer("#txt-imgsrc")):"connect-src-chip-content"==t?null!=c&&(c[0].chips=[],applySrcContainer("#txt-connectsrc")):"frame-src-chip-content"==t&&null!=c&&(c[0].chips=[],applySrcContainer("#txt-framesrc")),$("#"+t).html("")}function checkSrcValidation(c){var e=$("#"+c+".e-chip").toArray(),n=0;$("#"+c+".e-chip").each(function(){var t;n<e.length&&(t=$(e[n]).find(".e-chip-text").text(),isValidOrigin(t)||($(this).addClass("chip-validation"),$("#"+c).parent().next().html.html(window.Server.App.Localization.CSPDirectiveValidation)),n++)})}function ClearSettingsFields(){$("#txt-stylesrc").val(""),null==document.getElementById("style-src-chip-content").ej2_instances&&0==$("#txt-stylesrc").val().length&&applySrcContainer("#txt-stylesrc"),$("#txt-scriptsrc").val(""),null==document.getElementById("script-src-chip-content").ej2_instances&&0==$("#txt-scriptsrc").val().length&&applySrcContainer("#txt-scriptsrc"),$("#txt-fontsrc").val(""),null==document.getElementById("font-src-chip-content").ej2_instances&&0==$("#txt-fontsrc").val().length&&applySrcContainer("#txt-fontsrc"),$("#txt-imgsrc").val(""),null==document.getElementById("img-src-chip-content").ej2_instances&&0==$("#txt-imgsrc").val().length&&applySrcContainer("#txt-imgsrc"),$("#txt-connectsrc").val(""),null==document.getElementById("connect-src-chip-content").ej2_instances&&0==$("#txt-connectsrc").val().length&&applySrcContainer("#txt-connectsrc"),$("#txt-framesrc").val(""),null==document.getElementById("frame-src-chip-content").ej2_instances&&0==$("#txt-framesrc").val().length&&applySrcContainer("#txt-framesrc")}function applySrcContainer(t){"#txt-stylesrc"==t?($("#txt-stylesrc").css("width","100%").attr("placeholder",window.Server.App.Localization.CSPSourcePlaceholderContent),$("#style-src-chip-content").hide(),$(".style-src-validation").html("")):"#txt-scriptsrc"==t?($("#txt-scriptsrc").css("width","100%").attr("placeholder",window.Server.App.Localization.CSPSourcePlaceholderContent),$("#script-src-chip-content").hide(),$(".script-src-validation").html("")):"#txt-fontsrc"==t?($("#txt-fontsrc").css("width","100%").attr("placeholder",window.Server.App.Localization.CSPSourcePlaceholderContent),$("#font-src-chip-content").hide(),$(".font-src-validation").html("")):"#txt-imgsrc"==t?($("#txt-imgsrc").css("width","100%").attr("placeholder",window.Server.App.Localization.CSPSourcePlaceholderContent),$("#img-src-chip-content").hide(),$(".img-src-validation").html("")):"#txt-connectsrc"==t?($("#txt-connectsrc").css("width","100%").attr("placeholder",window.Server.App.Localization.CSPSourcePlaceholderContent),$("#connect-src-chip-content").hide(),$(".connect-src-validation").html("")):"#txt-framesrc"==t&&($("#txt-framesrc").css("width","100%").attr("placeholder",window.Server.App.Localization.CSPSourcePlaceholderContent),$("#frame-src-chip-content").hide(),$(".frame-src-validation").html(""))}function onStyleSrcChipDelete(){$("#txt-stylesrc").focus(),setTimeout(function(){$(".style-src-validation").html("")},100),1==document.getElementById("style-src-chip-content").ej2_instances[0].chips.length&&applySrcContainer("#txt-stylesrc")}function onScriptSrcChipDelete(){$("#txt-scriptsrc").focus(),setTimeout(function(){$(".script-src-validation").html("")},100),1==document.getElementById("script-src-chip-content").ej2_instances[0].chips.length&&applySrcContainer("#txt-scriptsrc")}function onFontSrcChipDelete(){$("#txt-fontsrc").focus(),setTimeout(function(){$(".font-src-validation").html("")},100),1==document.getElementById("font-src-chip-content").ej2_instances[0].chips.length&&applySrcContainer("#txt-fontsrc")}function onImgSrcChipDelete(){$("#txt-imgsrc").focus(),setTimeout(function(){$(".img-src-validation").html("")},100),1==document.getElementById("img-src-chip-content").ej2_instances[0].chips.length&&applySrcContainer("#txt-imgsrc")}function onConnectSrcChipDelete(){$("#txt-connectsrc").focus(),setTimeout(function(){$(".connect-src-validation").html("")},100),1==document.getElementById("connect-src-chip-content").ej2_instances[0].chips.length&&applySrcContainer("#txt-connectsrc")}function onFrameSrcChipDelete(){$("#txt-framesrc").focus(),setTimeout(function(){$(".frame-src-validation").html("")},100),1==document.getElementById("frame-src-chip-content").ej2_instances[0].chips.length&&applySrcContainer("#txt-framesrc")}function isSrcChipAlreadyExists(t,c){if("style-src-chip-content"==c){var e=document.getElementById("style-src-chip-content").ej2_instances;if(null!=e&&0!=e[0].chips&&null!=e[0].chips)for(i=0;i<e[0].chips.length;i++)if(e[0].chips[i].toLowerCase()==t.toLowerCase())return $("#txt-stylesrc").val(""),!1;return!0}if("script-src-chip-content"==c){var n=document.getElementById("script-src-chip-content").ej2_instances;if(null!=n&&0!=n[0].chips&&null!=n[0].chips)for(i=0;i<n[0].chips.length;i++)if(n[0].chips[i].toLowerCase()==t.toLowerCase())return $("#txt-scriptsrc").val(""),!1;return!0}if("font-src-chip-content"==c){var s=document.getElementById("font-src-chip-content").ej2_instances;if(null!=s&&0!=s[0].chips&&null!=s[0].chips)for(i=0;i<s[0].chips.length;i++)if(s[0].chips[i].toLowerCase()==t.toLowerCase())return $("#txt-fontsrc").val(""),!1;return!0}if("img-src-chip-content"==c){var r=document.getElementById("img-src-chip-content").ej2_instances;if(null!=r&&0!=r[0].chips&&null!=r[0].chips)for(i=0;i<r[0].chips.length;i++)if(r[0].chips[i].toLowerCase()==t.toLowerCase())return $("#txt-imgsrc").val(""),!1;return!0}if("connect-src-chip-content"==c){var o=document.getElementById("connect-src-chip-content").ej2_instances;if(null!=o&&0!=o[0].chips&&null!=o[0].chips)for(i=0;i<o[0].chips.length;i++)if(o[0].chips[i].toLowerCase()==t.toLowerCase())return $("#txt-connectsrc").val(""),!1;return!0}if("frame-src-chip-content"==c){var a=document.getElementById("frame-src-chip-content").ej2_instances;if(null!=a&&0!=a[0].chips&&null!=a[0].chips)for(i=0;i<a[0].chips.length;i++)if(a[0].chips[i].toLowerCase()==t.toLowerCase())return $("#txt-framesrc").val(""),!1;return!0}}$(document).ready(function(){if(getSrcInstance("style-src-chip-content"),getSrcInstance("script-src-chip-content"),getSrcInstance("font-src-chip-content"),getSrcInstance("img-src-chip-content"),getSrcInstance("connect-src-chip-content"),getSrcInstance("frame-src-chip-content"),null!=styleSourcesList&&""!=styleSourcesList)for(i=0;i<styleSourcesList.length;i++)styleSrcChipData[i]=styleSourcesList[i],0!=styleSrcChipData[i].length&&srcChipConversion(styleSrcChipData,"style-src-chip-content","#txt-stylesrc");if(null!=scriptSourcesList&&""!=scriptSourcesList)for(i=0;i<scriptSourcesList.length;i++)scriptSrcChipData[i]=scriptSourcesList[i],0!=scriptSrcChipData[i].length&&srcChipConversion(scriptSrcChipData,"script-src-chip-content","#txt-scriptsrc");if(null!=fontSourcesList&&""!=fontSourcesList)for(i=0;i<fontSourcesList.length;i++)fontSrcChipData[i]=fontSourcesList[i],0!=fontSrcChipData[i].length&&srcChipConversion(fontSrcChipData,"font-src-chip-content","#txt-fontsrc");if(null!=imgSourcesList&&""!=imgSourcesList)for(i=0;i<imgSourcesList.length;i++)imgSrcChipData[i]=imgSourcesList[i],0!=imgSrcChipData[i].length&&srcChipConversion(imgSrcChipData,"img-src-chip-content","#txt-imgsrc");if(null!=connectSourcesList&&""!=connectSourcesList)for(i=0;i<connectSourcesList.length;i++)connectSrcChipData[i]=connectSourcesList[i],0!=connectSrcChipData[i].length&&srcChipConversion(connectSrcChipData,"connect-src-chip-content","#txt-connectsrc");if(null!=frameSourcesList&&""!=frameSourcesList)for(i=0;i<frameSourcesList.length;i++)frameSrcChipData[i]=frameSourcesList[i],0!=frameSrcChipData[i].length&&srcChipConversion(frameSrcChipData,"frame-src-chip-content","#txt-framesrc");diableOrEnableCSPSettingsForm(),window.location.search.contains("?tab=x-frame-options")?$(".online-help-link").attr("href",xFrameOptionUrl):$(".online-help-link").attr("href",contentSecurityPolicyUrl)}),$("a[data-toggle='tab']").on("click",function(t){"#csp-settings"==$(this).attr("href")?$(".online-help-link").attr("href",contentSecurityPolicyUrl):$(".online-help-link").attr("href",xFrameOptionUrl)}),$(document).on("click","#enable-csp",function(){diableOrEnableCSPSettingsForm()}),$(document).on("click","#x-frame",function(){$("#x-frame").is(":checked")?($("#x-frame-checkbox-label").css("padding-bottom","20px"),$(".x-frame-notification").show()):($(".x-frame-notification").hide(),$("#x-frame-checkbox-label").css("padding-bottom","32px"))}),$(document).on("keyup",".txt-input-src",function(t){var c=t.target.id;1==$("#"+c).length&&$("#"+c).focus(),t.keyCode!=keyCode.Comma&&t.keyCode!=keyCode.Enter||objectConvertAsSrcDirectiveChip($("#"+c).val(),c)}),$(document).on("keyup","#style-src-content",function(t){var c=document.getElementById("style-src-chip-content").ej2_instances;null==c||null!=c[0].chips&&0!=c[0].chips?null==c&&0==$("#txt-stylesrc").val().length&&applySrcContainer("#txt-stylesrc"):(""==$("#txt-stylesrc").val()&&applySrcContainer("#txt-stylesrc"),c[0].chips=[],setTimeout(function(){$("#style-src-chip-content").html("")},100)),setTimeout(function(){$("#style-src-chip-content .e-chip").hasClass("chip-validation")||""!=$("#txt-stylesrc").val()||$(".style-src-validation").html("")},100)}),$(document).on("keyup","#script-src-content",function(t){var c=document.getElementById("script-src-chip-content").ej2_instances;null==c||null!=c[0].chips&&0!=c[0].chips?null==c&&0==$("#txt-scriptsrc").val().length&&applySrcContainer("#txt-scriptsrc"):(""==$("#txt-scriptsrc").val()&&applySrcContainer("#txt-scriptsrc"),c[0].chips=[],setTimeout(function(){$("#script-src-chip-content").html("")},100)),setTimeout(function(){$("#script-src-chip-content .e-chip").hasClass("chip-validation")||""!=$("#txt-scriptsrc").val()||$(".script-src-validation").html("")},100)}),$(document).on("keyup","#font-src-content",function(t){var c=document.getElementById("font-src-chip-content").ej2_instances;null==c||null!=c[0].chips&&0!=c[0].chips?null==c&&0==$("#txt-fontsrc").val().length&&applySrcContainer("#txt-fontsrc"):(""==$("#txt-fontsrc").val()&&applySrcContainer("#txt-fontsrc"),c[0].chips=[],setTimeout(function(){$("#font-src-chip-content").html("")},100)),setTimeout(function(){$("#font-src-chip-content .e-chip").hasClass("chip-validation")||""!=$("#txt-fontsrc").val()||$(".font-src-validation").html("")},100)}),$(document).on("keyup","#img-src-content",function(t){var c=document.getElementById("img-src-chip-content").ej2_instances;null==c||null!=c[0].chips&&0!=c[0].chips?null==c&&0==$("#txt-imgsrc").val().length&&applySrcContainer("#txt-imgsrc"):(""==$("#txt-imgsrc").val()&&applySrcContainer("#txt-imgsrc"),c[0].chips=[],setTimeout(function(){$("#img-src-chip-content").html("")},100)),setTimeout(function(){$("#img-src-chip-content .e-chip").hasClass("chip-validation")||""!=$("#txt-imgsrc").val()||$(".img-src-validation").html("")},100)}),$(document).on("keyup","#connect-src-content",function(t){var c=document.getElementById("connect-src-chip-content").ej2_instances;null==c||null!=c[0].chips&&0!=c[0].chips?null==c&&0==$("#txt-connectsrc").val().length&&applySrcContainer("#txt-connectsrc"):(""==$("#txt-connectsrc").val()&&applySrcContainer("#txt-connectsrc"),c[0].chips=[],setTimeout(function(){$("#connect-src-chip-content").html("")},100)),setTimeout(function(){$("#connect-src-chip-content .e-chip").hasClass("chip-validation")||""!=$("#txt-connectsrc").val()||$(".connect-src-validation").html("")},100)}),$(document).on("keyup","#frame-src-content",function(t){var c=document.getElementById("frame-src-chip-content").ej2_instances;null==c||null!=c[0].chips&&0!=c[0].chips?null==c&&0==$("#txt-framesrc").val().length&&applySrcContainer("#txt-framesrc"):(""==$("#txt-framesrc").val()&&applySrcContainer("#txt-framesrc"),c[0].chips=[],setTimeout(function(){$("#frame-src-chip-content").html("")},100)),setTimeout(function(){$("#frame-src-chip-content .e-chip").hasClass("chip-validation")||""!=$("#txt-framesrc").val()||$(".frame-src-validation").html("")},100)}),$(document).on("focusin",".txt-input-src",function(t){"txt-stylesrc"==t.target.id?$("#style-src-content").addClass("focused"):"txt-scriptsrc"==t.target.id?$("#script-src-content").addClass("focused"):"txt-fontsrc"==t.target.id?$("#font-src-content").addClass("focused"):"txt-imgsrc"==t.target.id?$("#img-src-content").addClass("focused"):"txt-connectsrc"==t.target.id?$("#connect-src-content").addClass("focused"):"txt-framesrc"==t.target.id&&$("#frame-src-content").addClass("focused")}),$(".txt-input-src").focusout(function(t){var c,t=t.target.id;"txt-stylesrc"==t?(1<(c=$("#txt-stylesrc").val()+",").length&&objectConvertAsSrcDirectiveChip(c,t),$("#style-src-content").removeClass("focused")):"txt-scriptsrc"==t?(1<(c=$("#txt-scriptsrc").val()+",").length&&objectConvertAsSrcDirectiveChip(c,t),$("#script-src-content").removeClass("focused")):"txt-fontsrc"==t?(1<(c=$("#txt-fontsrc").val()+",").length&&objectConvertAsSrcDirectiveChip(c,t),$("#font-src-content").removeClass("focused")):"txt-imgsrc"==t?(1<(c=$("#txt-imgsrc").val()+",").length&&objectConvertAsSrcDirectiveChip(c,t),$("#img-src-content").removeClass("focused")):"txt-connectsrc"==t?(1<(c=$("#txt-connectsrc").val()+",").length&&objectConvertAsSrcDirectiveChip(c,t),$("#connect-src-content").removeClass("focused")):"txt-framesrc"==t&&(1<(c=$("#txt-framesrc").val()+",").length&&objectConvertAsSrcDirectiveChip(c,t),$("#frame-src-content").removeClass("focused"))}),$(document).on("click",".src-input-class",function(t){"style-src-content"!=t.target.id||$(t.target).hasClass("e-chip")||$(t.target).hasClass("e-chip-text")?"script-src-content"!=t.target.id||$(t.target).hasClass("e-chip")||$(t.target).hasClass("e-chip-text")?"font-src-content"!=t.target.id||$(t.target).hasClass("e-chip")||$(t.target).hasClass("e-chip-text")?"img-src-content"!=t.target.id||$(t.target).hasClass("e-chip")||$(t.target).hasClass("e-chip-text")?"connect-src-content"!=t.target.id||$(t.target).hasClass("e-chip")||$(t.target).hasClass("e-chip-text")?"frame-src-content"!=t.target.id||$(t.target).hasClass("e-chip")||$(t.target).hasClass("e-chip-text")||$("#txt-framesrc").focus():$("#txt-connectsrc").focus():$("#txt-imgsrc").focus():$("#txt-fontsrc").focus():$("#txt-scriptsrc").focus():$("#txt-stylesrc").focus()}),$(document).on("keypress",".txt-input-src",function(t){var c=8*($("#"+t.target.id).val().length+1);$("#"+t.target.id).css("width",c+"px")}),$(document).on("keydown","#style-src-content",function(t){t.keyCode==keyCode.BackSpace&&0==$("#txt-stylesrc").val().length&&(isChrome&&isEdge||t.preventDefault(),null!=(t=document.getElementById("style-src-chip-content").ej2_instances))&&0!=t[0].chips&&null!=t[0].chips&&(($("#style-src-chip-content > .e-chip:last").hasClass("e-focused")?(t[0].chips.pop(),0<t[0].chips.length&&t[0].refresh(),applySrcTooltip("style-src-chip-content"),checkSrcValidation("style-src-chip-content"),$(".style-src-validation").html(""),$("#txt-stylesrc")):($("#style-src-chip-content > .e-chip:last").addClass("e-focused"),$("#style-src-chip-content > .e-chip:last"))).focus(),null!=t[0].chips&&0!=t[0].chips.length||getSrcInstance("style-src-chip-content"))}),$(document).on("keydown","#script-src-content",function(t){t.keyCode==keyCode.BackSpace&&0==$("#txt-scriptsrc").val().length&&(isChrome&&isEdge||t.preventDefault(),null!=(t=document.getElementById("script-src-chip-content").ej2_instances))&&0!=t[0].chips&&null!=t[0].chips&&(($("#script-src-chip-content > .e-chip:last").hasClass("e-focused")?(t[0].chips.pop(),0<t[0].chips.length&&t[0].refresh(),applySrcTooltip("script-src-chip-content"),checkSrcValidation("script-src-chip-content"),$(".script-src-validation").html(""),$("#txt-scriptsrc")):($("#script-src-chip-content > .e-chip:last").addClass("e-focused"),$("#script-src-chip-content > .e-chip:last"))).focus(),null!=t[0].chips&&0!=t[0].chips.length||getSrcInstance("script-src-chip-content"))}),$(document).on("keydown","#font-src-content",function(t){t.keyCode==keyCode.BackSpace&&0==$("#txt-fontsrc").val().length&&(isChrome&&isEdge||t.preventDefault(),null!=(t=document.getElementById("font-src-chip-content").ej2_instances))&&0!=t[0].chips&&null!=t[0].chips&&(($("#font-src-chip-content > .e-chip:last").hasClass("e-focused")?(t[0].chips.pop(),0<t[0].chips.length&&t[0].refresh(),applySrcTooltip("font-src-chip-content"),checkSrcValidation("font-src-chip-content"),$(".font-src-validation").html(""),$("#txt-fontsrc")):($("#font-src-chip-content > .e-chip:last").addClass("e-focused"),$("#font-src-chip-content > .e-chip:last"))).focus(),null!=t[0].chips&&0!=t[0].chips.length||getSrcInstance("font-src-chip-content"))}),$(document).on("keydown","#img-src-content",function(t){t.keyCode==keyCode.BackSpace&&0==$("#txt-imgsrc").val().length&&(isChrome&&isEdge||t.preventDefault(),null!=(t=document.getElementById("img-src-chip-content").ej2_instances))&&0!=t[0].chips&&null!=t[0].chips&&(($("#img-src-chip-content > .e-chip:last").hasClass("e-focused")?(t[0].chips.pop(),0<t[0].chips.length&&t[0].refresh(),applySrcTooltip("img-src-chip-content"),checkSrcValidation("img-src-chip-content"),$(".img-src-validation").html(""),$("#txt-imgsrc")):($("#img-src-chip-content > .e-chip:last").addClass("e-focused"),$("#img-src-chip-content > .e-chip:last"))).focus(),null!=t[0].chips&&0!=t[0].chips.length||getSrcInstance("img-src-chip-content"))}),$(document).on("keydown","#connect-src-content",function(t){t.keyCode==keyCode.BackSpace&&0==$("#txt-connectsrc").val().length&&(isChrome&&isEdge||t.preventDefault(),null!=(t=document.getElementById("connect-src-chip-content").ej2_instances))&&0!=t[0].chips&&null!=t[0].chips&&(($("#connect-src-chip-content > .e-chip:last").hasClass("e-focused")?(t[0].chips.pop(),0<t[0].chips.length&&t[0].refresh(),applySrcTooltip("connect-src-chip-content"),checkSrcValidation("connect-src-chip-content"),$(".connect-src-validation").html(""),$("#txt-connectsrc")):($("#connect-src-chip-content > .e-chip:last").addClass("e-focused"),$("#connect-src-chip-content > .e-chip:last"))).focus(),null!=t[0].chips&&0!=t[0].chips.length||getSrcInstance("connect-src-chip-content"))}),$(document).on("keydown","#frame-src-content",function(t){t.keyCode==keyCode.BackSpace&&0==$("#txt-framesrc").val().length&&(isChrome&&isEdge||t.preventDefault(),null!=(t=document.getElementById("frame-src-chip-content").ej2_instances))&&0!=t[0].chips&&null!=t[0].chips&&(($("#frame-src-chip-content > .e-chip:last").hasClass("e-focused")?(t[0].chips.pop(),0<t[0].chips.length&&t[0].refresh(),applySrcTooltip("frame-src-chip-content"),checkSrcValidation("frame-src-chip-content"),$(".frame-src-validation").html(""),$("#txt-framesrc")):($("#frame-src-chip-content > .e-chip:last").addClass("e-focused"),$("#frame-src-chip-content > .e-chip:last"))).focus(),null!=t[0].chips&&0!=t[0].chips.length||getSrcInstance("frame-src-chip-content"))}),$(document).on("paste","#txt-stylesrc",function(t){var c=t.originalEvent.clipboardData.getData("Text").trim().split(/[\s,;\r?\n]+/);if(1<c.length){for(var e=0;e<c.length;e++){var n=c[e];isSrcChipAlreadyExists(n,"style-src-chip-content")&&""!=n&&(styleSrcChipData.push(n),srcChipConversion(styleSrcChipData,"style-src-chip-content","#txt-stylesrc"))}setTimeout(function(){$("#txt-stylesrc").val("")},100)}}),$(document).on("paste","#txt-scriptsrc",function(t){var c=t.originalEvent.clipboardData.getData("Text").trim().split(/[\s,;\r?\n]+/);if(1<c.length){for(var e=0;e<c.length;e++){var n=c[e];isSrcChipAlreadyExists(n,"script-src-chip-content")&&""!=n&&(scriptSrcChipData.push(n),srcChipConversion(scriptSrcChipData,"script-src-chip-content","#txt-scriptsrc"))}setTimeout(function(){$("#txt-scriptsrc").val("")},100)}}),$(document).on("paste","#txt-fontsrc",function(t){var c=t.originalEvent.clipboardData.getData("Text").trim().split(/[\s,;\r?\n]+/);if(1<c.length){for(var e=0;e<c.length;e++){var n=c[e];isSrcChipAlreadyExists(n,"font-src-chip-content")&&""!=n&&(fontSrcChipData.push(n),srcChipConversion(fontSrcChipData,"font-src-chip-content","#txt-fontsrc"))}setTimeout(function(){$("#txt-fontsrc").val("")},100)}}),$(document).on("paste","#txt-imgsrc",function(t){var c=t.originalEvent.clipboardData.getData("Text").trim().split(/[\s,;\r?\n]+/);if(1<c.length){for(var e=0;e<c.length;e++){var n=c[e];isSrcChipAlreadyExists(n,"img-src-chip-content")&&""!=n&&(imgSrcChipData.push(n),srcChipConversion(imgSrcChipData,"img-src-chip-content","#txt-imgsrc"))}setTimeout(function(){$("#txt-imgsrc").val("")},100)}}),$(document).on("paste","#txt-connectsrc",function(t){var c=t.originalEvent.clipboardData.getData("Text").trim().split(/[\s,;\r?\n]+/);if(1<c.length){for(var e=0;e<c.length;e++){var n=c[e];isSrcChipAlreadyExists(n,"connect-src-chip-content")&&""!=n&&(connectSrcChipData.push(n),srcChipConversion(connectSrcChipData,"connect-src-chip-content","#txt-connectsrc"))}setTimeout(function(){$("#txt-connectsrc").val("")},100)}}),$(document).on("paste","#txt-framesrc",function(t){var c=t.originalEvent.clipboardData.getData("Text").trim().split(/[\s,;\r?\n]+/);if(1<c.length){for(var e=0;e<c.length;e++){var n=c[e];isSrcChipAlreadyExists(n,"frame-src-chip-content")&&""!=n&&(frameSrcChipData.push(n),srcChipConversion(frameSrcChipData,"frame-src-chip-content","#txt-framesrc"))}setTimeout(function(){$("#txt-framesrc").val("")},100)}}),$(document).on("click","#update-csp-settings",function(){var t,c="",e=[],n=[],i=[],s=[],r=[],o=[];""==$(".style-src-validation").text()&&""==$(".script-src-validation").text()&&""==$(".font-src-validation").text()&&""==$(".img-src-validation").text()&&""==$(".connect-src-validation").text()&&""==$(".frame-src-validation").text()&&(null!=(t=document.getElementById("style-src-chip-content").ej2_instances)&&null==(e=t[0].chips)&&(e=[]),null!=(t=document.getElementById("script-src-chip-content").ej2_instances)&&null==(n=t[0].chips)&&(n=[]),null!=(t=document.getElementById("font-src-chip-content").ej2_instances)&&null==(i=t[0].chips)&&(i=[]),null!=(t=document.getElementById("img-src-chip-content").ej2_instances)&&null==(s=t[0].chips)&&(s=[]),null!=(t=document.getElementById("connect-src-chip-content").ej2_instances)&&null==(r=t[0].chips)&&(r=[]),null!=(t=document.getElementById("frame-src-chip-content").ej2_instances)&&null==(o=t[0].chips)&&(o=[]),c=$("#enable-csp").is(":checked")?{EnableCSP:$("#enable-csp").is(":checked"),StyleSource:e.toString(),ScriptSource:n.toString(),FontSource:i.toString(),ImageSource:s.toString(),ConnectSource:r.toString(),FrameSource:o.toString()}:{EnableCors:$("#enable-cors").is(":checked")},t={SettingsKey:SettingsScopes.Security,ContentSecurityPolicy:c},$.ajax({type:"POST",url:updateCSPSettingsUrl,data:{systemSettingsData:JSON.stringify(t)},beforeSend:showWaitingPopup($("#server-app-container")),success:function(t){t.status?successToast(window.Server.App.Localization.UpdateSettingsSuccess,7e3):(warningToast(null!=t.permissionDenied&&t.permissionDenied?window.Server.App.Localization.PermissionWarningAlert:window.Server.App.Localization.SettingsWarningAlert,null!=t.permissionDenied&&t.permissionDenied?null:t.message,null,window.Server.App.Localization.CorsSettings),$(".error-message, .success-message").css("display","none")),hideWaitingPopup($("#server-app-container"))}}))}),$(document).on("click","#update-x-frame-options-settings",function(){var t=$("#x-frame").is(":checked");$.ajax({type:"POST",url:updateXFrameHeaderSettingsUrl,data:{systemSettingValue:t,key:"IsXFrameOptionsEnabled"},beforeSend:showWaitingPopup($("#server-app-container")),success:function(t){t.status?successToast(window.Server.App.Localization.UpdateSettingsSuccess,7e3):(warningToast(null!=t.permissionDenied&&t.permissionDenied?window.Server.App.Localization.PermissionWarningAlert:window.Server.App.Localization.SettingsWarningAlert,null!=t.permissionDenied&&t.permissionDenied?null:t.message,null,window.Server.App.Localization.SecuritySettings),$(".error-message, .success-message").css("display","none")),hideWaitingPopup($("#server-app-container"))}})});